## 如何评价一个hash函数的优劣？

1. 能否将关键字均匀影射到哈希空间上
2. 有无好的解决冲突的方法
3. 计算哈希函数是否简单高效

## 哈希冲突的处理方法

### 开放地址法——线性探测

线性探测法的地址增量di = 1, 2, ... , m-1，当中，i为探测次数。该方法一次探测下一个地址。直到有空的地址后插入。若整个空间都找不到空余的地址，则产生溢出。

当表中的第i、i+1、i+2的位置上已经存储某些keyword，则下一次哈希地址为i、i+1、i+2、i+3的keyword都将企图填入到i+3的位置上，这样多个哈希地址不同的keyword争夺同一个后继哈希地址的现象称为“聚集”。**聚集**对**查找效率**有非常大影响。

### 开放地址法——二次探测

二次探测地址增量序列为 di = 12， -12， 22。 -22，… 。 q2, -q2 (q <= m/2)。二次探测能有效避免“聚集”现象，可是不可以探测到哈希表上全部的存储单元，可是至少可以探測到一半。

### 链地址法

链地址法也称为拉链法。其基本思路是：将全部具有同样哈希地址的而不同keyword的数据元素连接到同一个单链表中。

## 跳表skiplist

跳表是一个特殊的链表，相比一般的链表，有更高的查找效率，可比拟二叉树

平均查找、插入、删除的时间复杂度都是O(log n)

跳表可以视为水平排列（Level）、垂直排列（Tower）的配置的二维集合。每个Level是一个列表Si，每个Tower包含存储连续列表中相同Entry的位置。

每个位置可以通过：

- After
- Before
- Below
- Above

### 跳表skiplist VS 平衡树 AVL

1. 从算法实现难度上来比较，skiplist比平衡树要简单得多。
2. 平衡树的插入和删除操作可能引发子树的调整，逻辑复杂，而skiplist的插入和删除只需要修改相邻节点的指针，操作简单又快速。
3. 查找单个key，skiplist和平衡树的时间复杂度都为O(log n)，大体相当。
4. 最坏情况下，跳表查找、插入、删除的性能为O(n + h)， 没有红黑树稳定
5. 在做范围查找的时候，平衡树比skiplist操作要复杂。
6. skiplist和各种平衡树（如AVL、红黑树等）的元素是有序排列的。